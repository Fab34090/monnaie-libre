{% extends "MlServiceBundle::layout.html.twig" %}

{% block title %}
 {{ parent() }} - Service - Vue - CouchSurfing
{% endblock %}
	
{% block service_body %}

	{% if couchsurfing is not null %}
	    {% if error is defined %}
	    <div class="well">{{error}}</div>
	    {% endif %}
		<div class="well">
			<h3 id = "title_reservation"><b>{{ couchsurfing.title }}</b></h3>
			<table class="table">
				<tr>
					<td>
						<div class = "well">
							<h4 class = "service">Createur :</h4> {{ couchsurfing.user.login }}
							<h4 class = "service">Date de création :</h4> {{ couchsurfing.creationDate|date("d/m/Y") }}
							<h4 class = "service">Commentaire :</h4> 
							{% if couchsurfing.comment is null %} 
								Pas de commentaires
							{% endif %} 
							{% if couchsurfing.comment is not null %} 
								{{ couchsurfing.comment }}
							{% endif %}
							<h4 class = "service">Prix :</h4> {{ couchsurfing.price }} ₱
							<h4 class = "service">Groupe associé :</h4> 
							{% if couchsurfing.associatedGroup is null %} 
								Pas de groupe associé 
							{% else %} 
								{{ couchsurfing.associatedGroup.name }}
							{% endif %} 
						</div>
					</td>
					<td>
						<div class = "well">
							<h4 class = "service">Lieu :</h4> {{ couchsurfing.location }} 
							<h4 class = "service">Date de début:</h4> {{ couchsurfing.dateStart|date("d/m/Y") }}
							<h4 class = "service">Date de fin :</h4> {{ couchsurfing.dateEnd|date("d/m/Y") }} 
							<h4 class = "service">Heure d'arrivée :</h4> {{ couchsurfing.hourStart|date("H:i") }} 
							<h4 class = "service">Heure de départ :</h4> {{ couchsurfing.hourEnd|date("H:i") }} 
							{% if couchsurfing.limitGuest is sameas(true) %}
								<h4 class = "service">Nombre d'invités (maximum) :</h4> {{ couchsurfing.limitNumberOfGuest }}
							{% else %}
								<h4 class = "service">Nombre d'invités (maximum) :</h4> Pas de limite
							{% endif %}
						</div>
					</td>
				</tr>
				<tr>
					<td colspan = "4">
						<div class = "well">
							{% if user is not sameas(couchsurfing.user) %}
								<form action="" method="post">
									<button id="form_reservation" class="btn btn-primary btn-xs" type="submit">Réserver <i class="icon-white glyphicon glyphicon-ok-sign"></i> </button>
								</form>
							{% else %}
								<form action="{{ path('ml_service_delete_couchsurfing') }}" method="post">
									<input type = "hidden" name = "couchsurfing_id" value = {{ couchsurfing.id }} />
									<button id="form_reservation" class="btn btn-danger btn-xs" type="submit">Supprimer <i class="icon-white glyphicon glyphicon-remove-sign"></i> </button>
								</form>
							{% endif %}
						</div>
					</td>
				</tr>
			</table>
		</div>
	{% endif %}

{% endblock %}
