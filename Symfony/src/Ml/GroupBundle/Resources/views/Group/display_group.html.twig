{% extends "MlGroupBundle::layout.html.twig" %}

{% block title %}
 {{ parent() }} - Group - {{ group_id }}
{% endblock %}

{% block group_body %}
	<table class="table">
		{% if group is defined %}
			<legend><b>Group {{ group_id }} : {{ group.name }}</b></legend>
		{% endif %}
		{% if group is not defined %}
			<legend><b>Group {{ message }} does not exist</b></legend>
		{% endif %}
		<tr>
			{% if message is defined %}
				<div class = "well">
					<center>
						There is no group {{ message }}<br><br>
						<a href='../groups'>Return to Groups' list</a>
					</center>
				</div>
			{% endif %}
			{% if message is not defined %}
				<tr>
					<td rowspan = "2">
						<div class="well">
							<div id="accordion">
								<h3>Group's members list</h3>
								<div>
									<table align = "center">
										<tr>
											<td>
												<center><b>Premium</b></center>
											</td>
											<td>
												<center><b>Karma</b></center>
											</td>
											<td>
												<center><b>Last name</b></center>
											</td>
											<td>
												<center><b>First name</b></center>
											</td>
											<td>
												<center><b>Login</b></center>
											</td>
											<td>
												<center><b>Birth Date</b></center>
											</td>
											<td>
												<center><b>Status</b></center>
											</td>
										</tr>
										<tr>
											<td>
												{% if administrator_group_data.premium is sameas(false) %}
													<center><img src = "{{ asset('img/not_premium.jpg') }}" /></center>
												{% endif %}
												{% if administrator_group_data.premium is sameas(true) %}
													<center><img src = "{{ asset('img/premium.jpg') }}" /></center>
												{% endif %}
											</td>
											<td>
												<center>{{ administrator_group_data.karma }}</center>
											</td>
											<td>
												<center>{{ administrator_group_data.lastName }}</center>
											</td>
											<td>
												<center>{{ administrator_group_data.firstName }}</center>
											</td>
											<td>
												<center>{{ administrator_group_data.login }}</center>
											</td>
											<td>
												<center>{{ administrator_group_data.birthDate|date('d/m/Y') }}</center>
											</td>
											<td>
												<center>Administrator</center>
											</td>
										</tr>
										{% for member in members %}
											<tr>
												<td>
													{% if member.user.premium is sameas(false) %}
														<center><img src = "{{ asset('img/not_premium.jpg') }}" /></center>
													{% endif %}
													{% if member.user.premium is sameas(true) %}
														<center><img src = "{{ asset('img/premium.jpg') }}" /></center>
													{% endif %}
												</td>
												<td>
													<center>{{ member.user.karma }}</center>
												</td>
												<td>
													<center>{{ member.user.lastName }}</center>
												</td>
												<td>
													<center>{{ member.user.firstName }}</center>
												</td>
												<td>
													<center>{{ member.user.login }}</center>
												</td>
												<td>
													<center>{{ member.user.birthDate|date('d/m/Y') }}</center>
												</td>
												<td>
													<center>
														Member
													</center>
												</td>
											</tr>
										{% endfor %}
									</table>
								</div>
								<h3>Associated services</h3>
								<div>
									<center>
										Here we can display associated services ???
									</center>
								</div>
							</div>
						</div>
					</td>
				</tr>
			{% endif %}
		</tr>
	</table>
	<center>
		<form action="{{ path('ml_home_homepage') }}" method="post">
			{% if is_member is sameas(false) %}
				<button class="btn btn-primary btn-mini" type="submit">Join group<i class="icon-white icon-ok-sign"></i> </button>
			{% endif %}
			{% if is_member is sameas(true) %}
				<button class="btn btn-primary btn-mini" type="submit">Leave group<i class="icon-white icon-ok-sign"></i> </button>
			{% endif %}
		</form>
	</center>
{% endblock %}